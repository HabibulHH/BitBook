@using BitBookProject.Models
@model BitBookProject.Models.User
@{
   
    ViewBag.Title = "Profiles";
    Layout = "~/Views/Shared/ProfilesLayout.cshtml";
}
<div class="container bootstrap snippet">
<div class="row">
<div class="panel">
    <div class="cover-photo">
        <div class="fb-timeline-img">

            <img src="@Url.Content(Model.CoverPicture)" style="width: 900px; height: 350px" alt=" ">
        </div>
        <div class="fb-name">
            <h2>
                <a href="#">@Model.Name</a>
            </h2>
        </div>
    </div>


    @using (Html.BeginForm("EditProfile", "Profiles", FormMethod.Post,
        new { enctype = "multipart/form-data" }))
    {


        <div class="panel-body">

            <div class="profile-thumb">
                <img src="@Url.Content(Model.ProfilePicture)" alt="" style="width: 110px; height: 350px">
                <input type="file" name="file" class="photo" id="imgInput">
                <input type="submit" value="Upload image" id="Image" class="submit" />
            </div>

            <a href="#" class="fb-user-mail">@Model.Email</a>
        </div>
        @Html.HiddenFor(model => model.UserId)
        @Html.HiddenFor(model => model.ProfilePicture)
        <label>
            @ViewBag.UpdateMessageforProfile
            @ViewBag.ErrorMessageForProfile
        </label>
    }
</div>
<div class="container" style="margin-top: 0px;">
<div class="col-md-12 no-paddin-xs">
<div class="row">
<!-- left content-->
<div class="col-md-4">
    <div class="profile-nav">
        <div class="panel">
            <ul class="nav nav-pills nav-stacked">
                <li class="active"><a href="profile.html"> <i class="fa fa-user"></i> Profile</a></li>
                <li><a href="about.html"> <i class="fa fa-info-circle"></i> About</a></li>
                <li><a href="friends.html"> <i class="fa fa-users"></i> Friends</a></li>
                <li><a href="photos.html"> <i class="fa fa-file-image-o"></i> Photos</a></li>
                <li><a href="edit_profile.html"> <i class="fa fa-edit"></i> Edit profile</a></li>
            </ul>
        </div>
    </div>
    <!-- friends -->
    <div class="panel panel-white panel-friends">
        <div class="panel-heading">
            <h3 class="panel-title">Friends</h3>
        </div>
        <div class="panel-body text-center">
            <ul class="friends">
                <li>
                    <a href="#">

                        <img src="~/DesignContent/img/Friends/woman-4.jpg" title="Jhoanath matew" class="img-responsive tip">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Friends/woman-3.jpg" title="Martha creawn" class="img-responsive tip">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Friends/guy-2.jpg" title="Jeferh smith" class="img-responsive tip">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Friends/woman-9.jpg" title="Linda palma" class="img-responsive tip">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Friends/guy-9.jpg" title="Lindo polmo" class="img-responsive tip">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Friends/guy-5.jpg" title="andrew cartson" class="img-responsive tip">
                    </a>
                </li>
            </ul>
        </div>
    </div><!-- end friends -->
    <!-- photos -->
    <div class="panel panel-white">
        <div class="panel-heading">
            <h3 class="panel-title">Photos</h3>
        </div>
        <div class="panel-body text-center">
            <ul class="photos">
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/5.jpg" alt="photo 1" class="img-responsive show-in-modal">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/2.jpg" alt="photo 2" class="img-responsive show-in-modal">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/3.jpg" alt="photo 3" class="img-responsive show-in-modal">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/7.jpg" alt="photo 4" class="img-responsive show-in-modal">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/5.jpg" alt="photo 5" class="img-responsive show-in-modal">
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="~/DesignContent/img/Photos/4.jpg" alt="photo 6" class="img-responsive show-in-modal">
                    </a>
                </li>
            </ul>
        </div>
    </div><!-- end photos-->
    <!-- groups -->
    <div class="panel panel-white panel-groups">
        <div class="panel-heading">
            <h3 class="panel-title">Groups</h3>
        </div>
        <div class="panel-body">
            <ul class="list-group">
                <li class="list-group-item">
                    <div class="col-xs-3 col-sm-6 col-md-3">
                        <img src="~/DesignContent/img/Likes/likes-5.png" alt="Group" class="img-responsive img-circle"/>
                    </div>
                    <div class="col-xs-9 col-sm-6">
                        <span class="name">Bootdey competitors</span>
                    </div>
                    <div class="clearfix"></div>
                </li>
                <li class="list-group-item">
                    <div class="col-xs-3 col-sm-6 col-md-3">
                        <img src="~/DesignContent/img/Likes/likes-1.png" alt="Group" class="img-responsive img-circle"/>
                    </div>
                    <div class="col-xs-9 col-sm-6">
                        <span class="name">Git in action</span>
                    </div>
                    <div class="clearfix"></div>
                </li>
                <li class="list-group-item">
                    <div class="col-xs-3 col-sm-6 col-md-3">
                        <img src="~/DesignContent/img/Likes/likes-6.png" alt="Group" class="img-responsive img-circle"/>
                    </div>
                    <div class="col-xs-9 col-sm-6">
                        <span class="name">Bootdey Snippets</span>
                    </div>
                    <div class="clearfix"></div>
                </li>
                <li class="list-group-item">
                    <div class="col-xs-3 col-sm-6 col-md-3">
                        <img src="~/DesignContent/img/Likes/likes-2.png" alt="Group" class="img-responsive img-circle"/>
                    </div>
                    <div class="col-xs-9 col-sm-6">
                        <span class="name">Html 5 live</span>
                    </div>
                    <div class="clearfix"></div>
                </li>
            </ul>
        </div>
    </div><!-- end groups-->
</div><!-- end left content-->
<!-- right content-->
<div class="profile-info col-md-8 animated fadeInRight">
<div class="panel">
    @using (Html.BeginForm("PostStatus", "Profiles", FormMethod.Post))
    {
        <textarea placeholder="Whats in your mind today?" rows="2" class="form-control input-lg p-text-area" id="StatusDetail" name="StatusDetail"> </textarea>
        <div class="panel-footer">
            @Html.HiddenFor(model => model.UserId)
            @Html.HiddenFor(model => model.ProfilePicture)
            
            <button class="btn btn-info pull-right">Post</button>
            <ul class="nav nav-pills">
                <li>
                    <a href="#"><i class="fa fa-map-marker"></i></a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-camera"></i></a>
                </li>
                <li>
                    <a href="#"><i class=" fa fa-film"></i></a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-microphone"></i></a>
                </li>
            </ul>
        </div>

    }
</div>
<!-- second post -->
<div class="panel panel-white post panel-shadow" id="PostDiv">
    <div class="post-heading" id="PostHead">
        @*<div class="pull-left image" id="UserImage">


            <img src="@Url.Content(Model.ProfilePicture)" class="avatar" alt="user profile image">
        </div>*@
        <div class="pull-left meta" id="UserName">
            <div class="title h5">
                <a href="#" class="post-user-name">@Model.UserName</a>
                made a post.

            </div>
            <h6 class="text-muted time">1 minute ago</h6>
        </div>
    </div>
    <div class="post-description">

    </div>
    <div>
        <button id="save" name="save"> save</button>
    </div>
    
    @*<div class="post-footer">
        <input class="form-control add-comment-input" placeholder="Add a comment..." type="text">
        <ul class="comments-list">
            <li class="comment">
                <a class="pull-left" href="#">
                    <img class="avatar" src="~/Design Content/img/Friends/guy-8.jpg" alt="avatar">
                </a>
                <div class="comment-body">
                    <div class="comment-heading">
                        <h4 class="comment-user-name"><a href="#">Gavhin dahg martb</a></h4>
                        <h5 class="time">5 minutes ago</h5>
                    </div>
                    <p>This is a first comment</p>
                </div>
                <ul class="comments-list">
                    <li class="comment">
                        <a class="pull-left" href="#">
                            <img class="avatar" src="~/Design Content/img/Friends/woman-5.jpg" alt="avatar">
                        </a>
                        <div class="comment-body">
                            <div class="comment-heading">
                                <h4 class="comment-user-name"><a href="#">Ryanah Haywofd</a></h4>
                                <h5 class="time">3 minutes ago</h5>
                            </div>
                            <p>Relax my friend</p>
                        </div>
                    </li>
                    <li class="comment">
                        <a class="pull-left" href="#">
                            <img class="avatar" src="~/Design Content/img/Friends/woman-7.jpg" alt="avatar">
                        </a>
                        <div class="comment-body">
                            <div class="comment-heading">
                                <h4 class="comment-user-name"><a href="#">Maria dh heart</a></h4>
                                <h5 class="time">3 minutes ago</h5>
                            </div>
                            <p>Ok, cool.</p>
                        </div>
                    </li>
                </ul>
            </li>
        </ul>
    </div>*@
</div><!-- end second post -->
@*<!-- third post -->

</div><!-- end third post -->*@
<div class="panel panel-white post-load-more panel-shadow text-center">
    <button class="btn btn-info">
        <i class="fa fa-refresh"></i>Load More...

    </button>
</div>
</div><!--end right content-->
</div>
</div>
</div><!-- end timeline content-->
</div>
</div>

@section scripts{

<script src="~/Scripts/jquery.validate.min.js"></script>
<script>
    $(document).ready(function () {
       
        var UserId = $("#UserId").val();
        var PhotoUrl = $("#ProfilePicture").val();
        var jsonCourse = { UserId: UserId };
        alert(PhotoUrl);
        var i = 0;
        $.ajax({
            type: "POST",
            url: '/Profiles/LoadStatus',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(jsonCourse),
           
            success: function (data) {
            
                $.each(data, function (key, value) {
                    var s = value.UserId.toString();
                    var g = document.createElement('p');
                     i = i+1;
                    g.id = s.toString();
                    var url= '<img src="~/DesignContent/img/Image/hira.jpg">';

                    $('<img />', {
                        src: '/DesignContent/img/Image/hira.jpg',
                        width: '30px',
                        height: '30px'
                    }).appendTo($("#" + s));
                   var className=i+"name"
                    $("#" + s).append(value.StatusDetail+"<br>");
                    $('<i/>').attr({ id: 'LikeNumber', name: 'LikeNumber', class: "fa fa-thumbs-up icon,stats" }).appendTo("#" + s);
                    $('<span/>').attr({ id: 'Likes', name: 'Likes', class: className }).appendTo("#" + s);
                  
                    var clicks = value.NumberOfLike;
                    $('.' + className).html(clicks)

                    $('<button/>', {
                        text: "Like",
                        id: 'btn',
                        class: 'btn btn-default',
                        click: function() {
                            if (value.UserId)

                            clicks++; $('.' + className).html(clicks);

                        }
                    
                    }).appendTo("#" + s);
                    
                    $("#" + s).append("<br><br>Comment");
                    $('<input/>').attr({ type: 'text', id: 'Comment', name: 'Comment', class: "form-control add-comment-input" }).appendTo("#" + s);
                    $("#" + s).append("<br><br>");
                    $(".post-description").append(g);

                });
            }

        });
       
    });


   
</script>



}



